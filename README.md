# Port Simulation

Візуалізація роботи порту з анімаціями кораблів, чергами та управлінням пристанями.

## Опис

Симуляція роботи порту, де кораблі припливають, обслуговуються на пристанях та відпливають. Проект реалізований з використанням об'єктно-орієнтованого підходу, TypeScript, Pixi.js для візуалізації та TweenJS для анімацій.

## Функціональність

### Основні компоненти:

1. **Море** - прямокутне робоче поле синього кольору
2. **Порт** - виділена прямокутна область з одним входом
   - Одночасно через вхід може проходити лише один корабель
   - В порту 4 пристані, на початку усі вони порожні
3. **Пристані** - прямокутні області
   - Якщо пристань заповнена вантажем - прямокутник залитий кольором
   - Якщо порожня - прозора
   - До однієї пристані може приплисти одночасно один корабель
4. **Кораблі** - прямокутники зеленого або червоного кольору
   - **Зелені кораблі** - приходять порожніми, завантажуються вантажем
   - **Червоні кораблі** - приходять з вантажем, розвантажуються
   - Заповнений корабель відображається залитим кольором
   - Порожній корабель - тільки контур

### Логіка роботи:

- Кораблі приходять з протилежного боку моря
- Тип корабля (зелений/червоний) обирається випадково
- Частота появи кораблів: **1 на 8 секунд**
- Час перебування корабля у порту: **5 секунд**
- Зелені кораблі стають у чергу, якщо у порту немає вантажу на вільних пристанях
- Червоні кораблі стають у чергу, якщо всі вільні пристані заповнені

## Технології

- **TypeScript** - типізація коду
- **Pixi.js v8.8.1** - візуалізація та рендеринг
- **TweenJS v25.0.0** - плавні анімації руху кораблів
- **Vite** - збірка та розробка
- **ООП** - об'єктно-орієнтована архітектура

## Структура проекту

```
src/
├── app/
│   ├── config.ts          # Конфігурація (розміри, таймінги, позиції)
│   ├── index.ts           # Головний клас GameApp
│   ├── port/
│   │   ├── PortScene.ts   # Основна сцена з логікою симуляції
│   │   ├── Port.ts        # Клас порту (управління пристанями та чергами)
│   │   ├── Pier.ts        # Клас пристані
│   │   ├── Ship.ts        # Клас корабля
│   │   └── types.ts       # TypeScript типи
│   ├── ui/
│   │   └── HUD.ts         # Логування подій
│   └── utils/
│       ├── tween.ts       # Утиліти для анімацій
│       └── id.ts          # Генерація унікальних ID
├── main.ts                # Точка входу
└── styles/
    └── index.css          # Стилі
```

## Встановлення та запуск

### Вимоги

- Node.js (версія 18 або вище)
- npm або yarn

### Крок 1: Встановлення залежностей

```bash
npm install
```

### Крок 2: Запуск у режимі розробки

```bash
npm run dev
```

Або:

```bash
npm start
```

Після запуску відкрийте браузер за адресою, яку покаже Vite (зазвичай `http://localhost:5173`).

### Крок 3: Збірка для продакшну

```bash
npm run build
```

Зібраний проект буде в папці `dist/`.

### Додаткові команди

```bash
# Перевірка форматування коду
npm run format:check

# Форматування коду
npm run format

# Перевірка лінтером
npm run lint
```

## Як це працює

### Архітектура

Проект використовує об'єктно-орієнтований підхід:

- **GameApp** - головний клас, ініціалізує Pixi.js Application
- **PortScene** - основна сцена, керує симуляцією
- **Port** - управляє пристанями та чергами кораблів
- **Pier** - представляє одну пристань зі станом (EMPTY/FILLED)
- **Ship** - представляє корабель з типом (RED/GREEN) та станом вантажу

### Процес роботи

1. **Спавн корабля**: Кожні 8 секунд створюється новий корабель (випадковий тип)
2. **Підхід до порту**: Корабель рухається до зони черги
3. **Перевірка можливості обслуговування**:
   - Зелені кораблі шукають пристань з вантажем (FILLED)
   - Червоні кораблі шукають порожню пристань (EMPTY)
4. **Черга**: Якщо немає відповідної пристані, корабель стає в чергу
5. **Вхід у порт**: Через вхід може проходити лише один корабель одночасно
6. **Обслуговування**: Корабель причалює до пристані, чекає 5 секунд
7. **Обмін вантажем**:
   - Червоний корабель розвантажується → пристань стає FILLED
   - Зелений корабель завантажується → пристань стає EMPTY
8. **Вихід**: Корабель виходить через вхід та відпливає

### Анімації

Всі рухи кораблів реалізовані через TweenJS:
- Підхід до порту
- Вхід через вхід
- Рух до пристані
- Вихід з порту
- Рух у черзі

## Налаштування

Основні параметри можна змінити в `src/app/config.ts`:

- `spawnEveryMs` - частота появи кораблів (за замовчуванням 8000 мс)
- `serviceTimeMs` - час обслуговування (за замовчуванням 5000 мс)
- `maxShips` - максимальна кількість кораблів одночасно
- `piers` - позиції та кількість пристаней
- Розміри та позиції елементів

## Ліцензія

Приватний проект.
